# 📘 AI Audit Log Platform

> **"사고는 피할 수 없어도, 책임은 증명할 수 있어야 한다."**
> 기업용 AI 서비스 이용의 **법적 증거 능력**을 확보하고, 데이터 조작을 원천 봉쇄하는 **무결성 감사 로그 솔루션**입니다.

---

## 🚀 1. 프로젝트 배경 (Why?)

기업 내 AI 도입이 가속화됨에 따라 **보안 사고(개인정보 유출, 권한 남용 등)** 의 위험이 커지고 있습니다. 하지만 기존 로그 시스템은 다음과 같은 한계가 있습니다.

* **신뢰성 결여:** 내부 관리자나 침입자에 의해 로그가 수정/삭제될 경우 법적 증거 능력을 상실함.
* **추적 불가능:** AI와 직접 통신할 경우, "누가 어떤 맥락으로" 위험한 요청을 했는지 사후 파악이 어려움.

**본 프로젝트는 '해시 체이닝(Hash Chaining)' 기술을 통해 단 1바이트의 조작도 허용하지 않는 '신뢰할 수 있는 장부'를 구축합니다.**

---

## 🏗 2. 시스템 아키텍처 (System Architecture)

사용자와 AI 모델 사이에서 모든 트래픽을 가로채고 기록하는 **Proxy 구조**를 채택하였습니다.

1. **AI Proxy Interceptor:** 사용자의 모든 AI 요청을 가로채 권한을 검증하고 내용을 기록함.
2. **Tamper-proof Engine:** SHA-256 알고리즘을 활용해 각 로그를 이전 로그와 사슬처럼 엮음.
3. **Audit Dashboard:** 감사관이 로그 무결성을 검증하고 사고 이력을 조회하는 전용 인터페이스.

---

## 🕵️‍♂️ 3. 사고 대응 시나리오 (Incident Scenario)

> **사건: 인사팀 직원 B가 권한 없이 AI에게 "전 직원 연봉 명단 추출"을 요청함.**

* **탐지:** Proxy 서버가 요청 키워드(연봉, 명단)와 직원 B의 권한(일반)을 대조 후 **즉시 차단**.
* **기록:** '요청 거부(Forbidden)' 결과와 함께 **당시의 고유 해시값**을 포함한 로그 생성.
* **검증:** 사후 감사 시, 해시 체인 검증 알고리즘을 통해 **기록의 조작 없음**을 0.1초 만에 확인.
* **결과:** 해당 로그는 법무팀의 내부 징계 및 법적 대응을 위한 **확실한 증거**로 활용됨.

---

## 🛠 4. 기술 선택 근거 (Design Decisions)

* **Java 17 & Spring Boot 3.x:** 대규모 트래픽 처리의 안정성과 엔터프라이즈 환경의 표준 준수.
* **MySQL 8.0:** 감사 로그의 핵심인 **강한 정합성(Strong Consistency)** 과 ACID 트랜잭션 보장을 위해 선택.
* **Trust-less Architecture:** 개발자나 DB 관리자도 로그를 사후 수정할 수 없도록 설계하여 시스템 자체의 공신력 확보.

---

## 🎯 5. 엔지니어링 포인트 (Engineering Points)

### 🔗 해시 체이닝을 통한 무결성 보장

각 로그는 자신의 데이터와 이전 로그의 해시값을 합쳐 새로운 해시를 생성합니다. 중간의 로그 하나만 수정되어도 이후 모든 체인의 해시가 깨지게 되어 조작을 즉시 감지합니다.

### ⚡ 대용량 데이터 조회 최적화

로그가 수백만 건 이상 쌓이는 상황을 가정하여, `UserID`, `Timestamp` 등에 대한 **복합 인덱스(Composite Index)** 를 설계하여 감사 조회 성능을 0.1초 이내로 유지했습니다.

### 🛡 동시성 제어 (Concurrency Control)

여러 사용자가 동시에 AI를 사용할 때 로그 순서가 뒤바뀌거나 해시 체인이 꼬이지 않도록 **데이터베이스 락(Locking)** 및 **동기화 로직**을 적용했습니다.

---

## ⚙️ 6. 기술 스택 (Tech Stack)

| 분류 | 기술 |
| --- | --- |
| **Language** | Java 17 |
| **Framework** | Spring Boot 3.x |
| **Database** | MySQL 8.0 |
| **ORM** | Spring Data JPA |
| **Security** | Spring Security, JWT, SHA-256 |

